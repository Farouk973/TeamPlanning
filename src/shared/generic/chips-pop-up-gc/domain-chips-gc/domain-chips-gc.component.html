<div class="header">
    <h2>Add {{this.namedomain}}</h2>
    <div class="search-container">
        <app-search-bar-cg [Treedata]="this.treedata"  (dialogResult)="handleDialogResult($event)"></app-search-bar-cg>
    </div>
</div>

<div class="container">
    <div class="sidebar">
        <h2>{{this.namesubdomain}}</h2>
        <div class="search-bar">

            <input type="text" [(ngModel)]="searchValue" (input)="filterTreeData()" name="input"
                placeholder="Search ...">
            <mat-icon class="search-icon">search</mat-icon>
        </div>
        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="mat-tree">
            <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding (click)="onNodeClicked(node)"
                class="mat-tree-node">
                <span class="mat-tree-node__label">{{node.name}}</span>
            </mat-tree-node>
            <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding class="mat-tree-node">
                <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name"
                    class="mat-tree-node-toggle">
                    <mat-icon class="mat-icon__toggle">{{treeControl.isExpanded(node) ? 'expand_more' :
                        'chevron_right'}}</mat-icon>
                    <span class="mat-tree-node__label">{{node.name}}</span>
                </button>
            </mat-tree-node>
        </mat-tree>
    </div>
    <div class="content">
        <div class="skill-container">
            <h1 *ngIf="selectedNode && selectedNode.trim() !== ''">
                {{this.namedomain}} of "{{ selectedNode }}"
            </h1>
            <h1 *ngIf="!(selectedNode && selectedNode.trim() !== '')">
                No {{this.namesubdomain}} has been selected
            </h1>
            <mat-chip-list class="mat-chip-list__container">
                <mat-chip *ngFor="let chip of selectedchips" class="mat-chip__item" 
                [ngClass]="{'selected': isChipSelected(chip.name)}" 
                         (click)="openDialog(chip)">
                  {{ chip.name }}
                  <mat-icon class="cancel-icon" *ngIf="isChipSelected(chip.name)" (click)="removeChip(chip);$event.stopPropagation()">clear</mat-icon>
                </mat-chip>
              </mat-chip-list>
        </div>
    </div>
</div>